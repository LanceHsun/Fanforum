<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Blog</title>
  <link rel="stylesheet" href="/styles/main.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
  <%- include('partials/header') %>

  <div class="d-flex justify-content-center" > <!-- 这将使得容器和其中的内容在视口中垂直居中 -->
    <h3 class="text-center">
      Welcome to my blog!
      <small class="text-muted"> <!-- Bootstrap 5 中 "text-body-secondary" 可能已经更名为 "text-muted" -->
        Lance Lin
      </small>
    </h3>
  </div>
  
  <!-- <% articles.forEach(article => { %>
    <div class="article">
      <h2><a href="/article_<%= article.index %>"><%= article.title %></a></h2>
      <p><%= article.content.substring(0, 100) %>...</p>
      <a href="/article_<%= article.index %>/edit">Edit</a>
      <form action="/delete" method="POST">
        <input type="hidden" name="index" value="<%= article.index %>">
        <button type="submit">Delete</button>
      </form>
    </div>
  <% }) %> -->

  <div class="d-flex flex-column p-4 gap-4 py-md-5 align-items-center justify-content-center">
    <% articles.forEach(article => { %>
      <div class="card" style="width: 18rem;">
        <!-- 添加 onclick 事件处理器 -->
        <div class="card-body" onclick="location.href='/article_<%= article.index %>'" style="cursor: pointer;">
          <h5 class="card-title"><%= article.title %></h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Article #<%= article.index %></h6>
          <p class="card-text"><%= article.content.substring(0, 100) %>...</p>
          <a href="/article_<%= article.index %>/edit" class="card-link">Edit</a>
          <form action="/article_<%= article.index %>/delete" method="POST" style="display: inline;">
            <input type="hidden" name="index" value="<%= article.index %>">
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </div>
      </div>
    <% }) %>
  </div>
  
  

  <%- include('partials/footer') %>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
